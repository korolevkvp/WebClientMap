# WebClientMap
Тестовое задание для стажера на позицию «Разработчик Java». Сервис-хранилище типа "ключ-значение".  Простой сервис который хранит данные в оперативной памяти по текстовому ключу.

При создании сервиса воспользовался Spring Web и сборкой через Maven. Реализация состоит из двух классов: контроллер(@RestController), который обрабатывает полученный HTTP-запрос и даёт обратную связь, и сервис, который выполняет манипуляции с хранилищем.

Доступ к хранилищу осуществляется через запросы клиента.


## Операция-запрос:

get – “/get” чтение всего хранилища, “/get/{key}” чтение значения по ключу

set – “/set/{key}” запись данных (время жизни по умолчанию 100 сек) по ключу, “/set/{key}/{ttl}” запись данных по ключу с определённым временем жизни в секундах

remove – “/remove/{key}” удаление данных по ключу

dump – “/dump” сохранение текущего состояния хранилища в файл по умолчанию, “/dump/{fileName}” сохранение текущего состояния хранилища в определённый файл*

load – “/load” загрузка состояния хранилища из файла по умолчанию, “/load/{fileName}” загрузка состояния хранилища из определённого файла

* 2 варианта реализации сохранения и загрузки хранилища: использовать файл формата .json, который бы являлся копией хранилища, или использовать файл формата .csv для того, чтобы была возможность сохранять время жизни. Сначала решил реализовать первый вариант, так как при такой реализации в хранилище можно загрузить любой json файл (с первым уровнем вложенности), такие файлы можно получать из внешней среды, с других сайтов, через JavaScript и т. д., а csv файл должен обязательно иметь 3 поля – ключ, значение и время. 
	Задал вопрос вам через почту, где сказали, что лучше сохранять и время. В итоге сохранение и загрузка реализованы через csv-файл.

## Тесты:

Особое достояние моей программы – это тесты. Прошу обратить внимание на их реализацию, а именно тесты сохранения и загрузки файлов. Они реализованы таким образом, что сохраняют состояние файлов, которые могут быть названы так же, как тестируемые. Таким образом при выполнении тестов нет вероятности того, что сохранённая ранее база может быть стёрта!

## Драйвер:

Драйвер реализован с помощью HttpClient’а и классов команд, классы реализуют интерфейс Command. Клиент посылает запрос и получает ответ, который выводит в консоль. 


